#!/usr/bin/env bash
# This script counts occurrences of each IP and HTTP status code from Apache logs.

awk '{print $1, $9}' apache-access.log | 
awk '{count[$1,$2]++} END {for (ip in count) print count[ip], ip}' | 
sort -nr
